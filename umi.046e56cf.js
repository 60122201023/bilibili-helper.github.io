(function(e){function t(t){for(var n,i,s=t[0],u=t[1],p=t[2],d=0,c=[];d<s.length;d++)i=s[d],r[i]&&c.push(r[i][0]),r[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(c.length)c.shift()();return o.push.apply(o,p||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var u=a[i];0!==r[u]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={1:0},o=[];function i(e){return s.p+""+({}[e]||e)+"."+{2:"496c37aa"}[e]+".async.js"}function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise(function(t,n){a=r[e]=[t,n]});t.push(a[2]=n);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=i(e);var p=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(d);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",p.name="ChunkLoadError",p.type=n,p.request=o,a[1](p)}r[e]=void 0}};var d=setTimeout(function(){o({type:"timeout",target:u})},12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],p=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var l=p;o.push([0,0]),a()})({"/1p2":function(e,t,a){"use strict";a("YHKe"),a("U2JH"),a("HuMr"),a("+Mhm"),a("asQW"),a("TCKW"),a("Pvpi"),a("mkZY"),a("wnUu"),a("+z0m"),a("2U65"),a("Ko3Y"),a("3Q5N"),a("qsAx"),a("uHoa"),a("kq/J"),a("755I"),a("92Q0"),a("GRi8"),a("uVuN"),a("i74s"),a("GdVl"),a("tkHU"),a("sfem"),a("Z3i4"),a("IEY9"),a("I7hb"),a("dMvJ"),a("91oE"),a("uwkX"),a("yeLF"),a("9DVE"),a("JgO0"),a("M+RB"),a("x4XL"),a("jx1P"),a("AYuL"),a("+iXW"),a("qaEV"),a("G1zk"),a("8jNR"),a("PnDn"),a("T4ND"),a("qy6H"),a("mAHv"),a("slHc"),a("Qmoz"),a("cV1+")},0:function(e,t,a){e.exports=a("KyW6")},1:function(e,t){},"5R+S":function(e,t,a){"use strict";var n=a("x4FP");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("MgQf")),o=a("f23f"),i={state:{},subscriptions:{setup(e){var t=e.dispatch;e.history;window.addEventListener("message",function(e){var a=e.data,n=a.command,r=void 0===n?"":n,o=a.commend,i=void 0===o?"":o,s=a.data,u=void 0===s?{}:s,p=a.from,d=a.model,l=a.sign;if("helper"===p&&"image"===d)switch(r||i){case"returnFetch":t({type:"update",payload:{url:u,sign:l}});break}})}},reducers:{update(e,t){t.type;var a=t.payload,n=a.url,r=a.sign;return e[r]=n,e}},effects:{fetch(e,t){return r.default.mark(function a(){var n,i,s,u;return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e.type,n=e.payload,t.put,t.call,i=t.select,s=n.url,u=n.sign,a.next=5,i(e=>{var t=e.image;t[u]||(0,o.fetchFromHelper)("image",{url:s,model:"image",sign:u,mine:"image/jpeg"})});case 5:case"end":return a.stop()}},a)})()}}};t.default=i},AabO:function(e,t,a){"use strict";var n=a("x4FP");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("UMs2")),o=n(a("MgQf")),i=n(a("ALud")),s=n(a("GBY4")),u=a("f23f"),p={state:{data:{replies:null,hots:null,page:{acount:0,count:0,num:1,size:20},top:null},votes:{rpidArray:[],likeSum:{}},members:{},replyMap:{},config:null,commentMap:[],voteConfig:null,status:{comment:{loadPage:!1,loadingRpid:null},vote:{voting:!1},editor:{getting:!1,sending:!1,error:null}}},subscriptions:{setup(e,t){var a=e.dispatch;e.history;window.addEventListener("message",function(e){var t=e.data,n=t.command,r=void 0===n?"":n,o=t.commend,i=void 0===o?"":o,s=t.data,u=void 0===s?{}:s,p=t.from,d=t.model,l=t.sign;if("helper"===p&&"comment"===d)switch(r||i){case"returnFetch":if(0===u.code)switch(l){case"getComment":a({type:"updateCommentLoadingState",payload:!1}),a({type:"updateCommentData",payload:u.data});break;case"getReply":a({type:"updateReplyLoadingState",payload:!1}),a({type:"updateReplayData",payload:u.data});break;case"sendReply":a({type:"updateEditorSendError",payload:null});var c=u.data,f=c.dialog,m=c.parent,y=c.root,v=c.rpid;setTimeout(()=>{a({type:"updateEditorSendingState",payload:!1}),a(f||m||y||!v?{type:"fetchReply",payload:{parent:m,root:y}}:{type:"fetchComment"})},1e3);break;case"setLike":var g=u.receipt,h=g.rpid,w=g.action;a({type:"updateCommentLikeStatus",payload:{rpid:h,action:w}});break;case"setHate":var x=u.receipt,b=x.rpid,C=x.action;a({type:"updateCommentHateStatus",payload:{rpid:b,action:C}});break;case"getVote":a({type:"updateVoteData",payload:u.data});break}else 12025===u.code&&(a({type:"updateEditorSendError",payload:u.message}),a({type:"updateEditorSendingState",payload:!1}));break}})}},reducers:{updateCommentData:(e,t)=>{t.type;var a=t.payload,n=t=>{var a=t.rpid,r=t.replies,o=t.rcount,i=t.member,s=t.content;return t.content.message=s.message.replace(/&#([\d]+);/g,(e,t)=>String.fromCharCode(t)).replace(/(&.+;)/g,u.htmlDecode),e.members[i.mid]=i,e.replyMap[a]={self:t,replies:r?r.map(n):null,page:{count:o,num:1,size:10},root:{},hasExpand:!1,needExpand:r&&r.length<o||!1,pages:Math.ceil(o/10)},t};return a.upper&&a.upper.top&&(a.upper.top=n(a.upper.top)),a.hots&&(a.hots=a.hots.map(n)),a.replies&&(a.replies=a.replies.map(n)),e.data=(0,i.default)({},a,{top:a.upper?a.upper.top:e.data.top}),e},updateConfig:(e,t)=>{var a=t.payload;return e.config=(0,i.default)({},e.config,a),e},updateCommentMap:(e,t)=>{var a=t.payload;return e.commentMap=a,e},updateReplayData:(e,t)=>{var a=t.payload,n=t=>{var a=t.rpid,r=t.replies,o=t.rcount,i=t.member,s=t.content;return t.content.message=s.message.replace(/&#([\d]+);/g,(e,t)=>String.fromCharCode(t)).replace(/(&.+;)/g,u.htmlDecode),e.members[i.mid]=i,e.replyMap[a]={self:t,replies:r?r.map(n):null,page:{count:o,num:1,size:10},root:{},hasExpand:!1,needExpand:r&&r.length<o||!1,pages:Math.ceil(o/10)},t},r=a.replies,o=a.page,s=a.root,p=a.upper,d=o.count,l=o.size,c=o.num,f=e.replyMap[s.rpid];return e.replyMap[s.rpid]=(0,i.default)({},f,{replies:r.map(n),page:o,root:s,upper:p,pages:Math.ceil(d/l),hasExpand:r.length===l||1!==c,needExpand:r.length<d&&1===c}),e},updateVoteData:(e,t)=>{var a=t.payload,n=t=>{var a=t.rpid,r=t.replies,o=t.rcount,i=t.member,s=t.content;return t.content.message=s.message.replace(/&#([\d]+);/g,(e,t)=>String.fromCharCode(t)).replace(/(&.+;)/g,u.htmlDecode),e.members[i.mid]=i,e.replyMap[a]={self:t,replies:r?r.map(n):null,page:{count:o,num:1,size:10},root:{},hasExpand:!1,needExpand:r&&r.length<o||!1,pages:Math.ceil(o/10)},t};return(e.votes.rpidArray&&e.votes.rpidArray.indexOf(a.root.rpid)<0||!e.votes.rpidArray)&&(e.votes.rpidArray=[...e.votes.rpidArray,a.root.rpid]),e.votes.likeSum[a.root.rpid]=a.root.like,n(a.root),e},updateVoteSum:(e,t)=>{var a=t.payload;if(a){var n=a.rpid,r=a.like;e.votes.likeSum[n]=r}else e.votes.likeSum={};return e},updateCommentLoadingState:(e,t)=>{var a=t.payload;return e.status.comment.loadPage=a,e},updateReplyLoadingState:(e,t)=>{var a=t.payload;return e.status.comment.loadingRpid=a,e},updateEditorSendingState:(e,t)=>{var a=t.payload;return e.status.editor.sending=a,e},updateEditorSendError:(e,t)=>{var a=t.payload;return e.status.editor.error=a,e},updateCommentLikeStatus:(e,t)=>{var a=t.payload,n=a.rpid,r=(a.action,_.find(e.replyMap,e=>e.self.rpid===n));return r&&(0===r.self.action||2===r.self.action?(r.self.action=1,r.self.like+=1):1===r.self.action&&(r.self.action=0,r.self.like>0&&(r.self.like-=1))),e.replyMap[n]=r,e},updateCommentHateStatus:(e,t)=>{var a=t.payload,n=a.rpid,r=(a.action,_.find(e.replyMap,e=>e.self.rpid===n));return r&&(0===r.self.action?(r.self.action=2,r.self.like>0&&(r.self.like-=1)):2===r.self.action?r.self.action=0:1===r.self.action&&(r.self.action=2,r.self.like-=1)),e.replyMap[n]=r,e},updateVoteConfig:(e,t)=>{var a=t.payload;return e.voteConfig=a,e}},effects:{loadVoteConfig(e,t){return o.default.mark(function a(){var n,r,i,s;return o.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e.payload,n=t.put,r=t.call,a.next=4,r(fetch,"../static/json/votes.json");case 4:if(i=a.sent,200!==i.status&&304!==i.status){a.next=11;break}return a.next=8,i.json();case 8:return s=a.sent,a.next=11,n({type:"updateVoteConfig",payload:s});case 11:case"end":return a.stop()}},a)})()},loadCommentMap(e,t){return o.default.mark(function a(){var n,r,i,s;return o.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e.payload,n=t.put,r=t.call,a.next=4,r(fetch,"../static/json/comments.json");case 4:if(i=a.sent,200!==i.status&&304!==i.status){a.next=11;break}return a.next=8,i.json();case 8:return s=a.sent,a.next=11,n({type:"updateCommentMap",payload:s});case 11:case"end":return a.stop()}},a)})()},load(e,t){return o.default.mark(function a(){var n,r,i,s,u,p,d,l,c;return o.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,r=t.put,a.next=4,r({type:"updateConfig",payload:n.comment});case 4:if(i=n.query,s=i.oid,u=i.pn,p=i.ps,d=i.root,l=i.type,c=i.sort,!n.ptype){a.next=10;break}return a.next=8,r({type:"fetchReply",payload:_.pickBy({oid:s,ps:p,sort:c||n.comment.config.sort,type:l},_.identity)});case 8:a.next=12;break;case 10:return a.next=12,r({type:"fetchComment",payload:_.pickBy({oid:s,pn:u,sort:c||n.comment.config.sort,type:l,root:d},_.identity)});case 12:case"end":return a.stop()}},a)})()},fetchComment(e,t){return o.default.mark(function a(){var n,r,p,d,l,c,f,m,y;return o.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,r=t.put,p=t.select,a.next=4,r({type:"updateCommentLoadingState",payload:!0});case 4:return d=new s.default("https://api.bilibili.com/x/v2/reply"),a.next=7,p(e=>{var t=e.comments;return t.config});case 7:return l=a.sent,c=l.oid,f=l.pn,m=l.sort,y=l.type,a.next=14,r({type:"updateConfig",payload:n});case 14:d.set("query",(0,i.default)({oid:c,pn:f,sort:m,type:y,mobi_app:1},n)),(0,u.fetchFromHelper)("json",{url:d.toString(),model:"comment",sign:"getComment"});case 16:case"end":return a.stop()}},a)})()},fetchReply(e,t){return o.default.mark(function a(){var n,r,p,d,l,c,f;return o.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,r=t.put,p=t.select,a.next=4,r({type:"updateReplyLoadingState",payload:n.root});case 4:return d=new s.default("https://api.bilibili.com/x/v2/reply/reply"),a.next=7,p(e=>{var t=e.comments;return t.config});case 7:l=a.sent,c=l.oid,f=l.type,d.set("query",(0,i.default)({oid:c,type:f,mobi_app:1},n)),(0,u.fetchFromHelper)("json",{url:d.toString(),model:"comment",sign:"getReply"});case 12:case"end":return a.stop()}},a)})()},sendReply(e,t){return o.default.mark(function a(){var n,r,i,s,p,d,l,c,f,m,y,v,g;return o.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,r=t.put,i=t.select,a.next=4,r({type:"updateEditorSendingState",payload:!0});case 4:return s="https://api.bilibili.com/x/v2/reply/add",a.next=7,i(e=>{var t=e.comments;return t.config});case 7:return p=a.sent,d=p.oid,l=p.type,c=p.plat,a.next=13,i(e=>{var t=e.user;return t.csrf});case 13:f=a.sent,m=n.root,y=n.parent,v=n.message,g=_.pickBy({oid:d,type:l,root:m,parent:y,message:v,plat:c,csrf:f},_.identity),(0,u.fetchFromHelper)("post",{url:s,model:"comment",sign:"sendReply",options:{method:"POST",body:g}});case 17:case"end":return a.stop()}},a)})()},setLike(e,t){return o.default.mark(function a(){var n,r,p,d,l,c,f;return o.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,r=t.select,p=new s.default("https://api.bilibili.com/x/v2/reply/action"),a.next=5,r(e=>{var t=e.comments;return t.config});case 5:return d=a.sent,l=d.oid,c=d.type,a.next=10,r(e=>{var t=e.user;return t.csrf});case 10:f=a.sent,(0,u.fetchFromHelper)("post",{url:p.toString(),model:"comment",sign:"setLike",options:{method:"POST",body:(0,i.default)({csrf:f,oid:l,type:c},n)}});case 12:case"end":return a.stop()}},a)})()},setHate(e,t){return o.default.mark(function a(){var n,r,p,d,l,c,f;return o.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,r=t.select,p=new s.default("https://api.bilibili.com/x/v2/reply/hate"),a.next=5,r(e=>{var t=e.comments;return t.config});case 5:return d=a.sent,l=d.oid,c=d.type,a.next=10,r(e=>{var t=e.user;return t.csrf});case 10:f=a.sent,(0,u.fetchFromHelper)("post",{url:p.toString(),model:"comment",sign:"setHate",options:{method:"POST",body:(0,i.default)({csrf:f,oid:l,type:c},n)}});case 12:case"end":return a.stop()}},a)})()},fetchVotes(e,t){return o.default.mark(function a(){var n,i,p,d,l,c;return o.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return(0,r.default)(e),n=t.put,i=t.select,a.next=4,i(e=>{var t=e.comments;return t.voteConfig});case 4:return p=a.sent,a.next=7,n({type:"updateVoteSum"});case 7:p||console.warn("no vote config"),d=p.oid,l=p.type,c=p.rpids,_.map(c,e=>{var t=new s.default("https://api.bilibili.com/x/v2/reply/reply");t.set("query",{oid:d,type:l,root:e}),(0,u.fetchFromHelper)("json",{url:t.toString(),model:"comment",sign:"getVote"})});case 10:case"end":return a.stop()}},a)})()}}};t.default=p},ERIh:function(e,t,a){"use strict";var n=a("x4FP");Object.defineProperty(t,"__esModule",{value:!0}),t.dva=void 0;var r=n(a("YLtl")),o={config:{onError(e){e.preventDefault()}},plugins:r.default.compact([""])};t.dva=o},F03t:function(e,t,a){"use strict";var n=a("x4FP");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("MgQf")),o=n(a("UMs2")),i=n(a("ALud")),s=a("f23f"),u={state:{version:null,config:null,downloads:null,feeds:null,websiteUpdate:null,status:{initializing:!1,tryConnect:!1,connected:!1,error:null}},subscriptions:{setup(e){var t=e.dispatch;e.history;window.addEventListener("message",function(e){var a=e.data,n=a.command,r=void 0===n?"":n,o=a.commend,s=void 0===o?"":o,u=a.data,p=void 0===u?{}:u,d=a.from,l=a.model,c=a.sign;if("helper"===d&&"global"===l)switch(r||s){case"returnApp":if(0===p.code)switch(c){case"connect":t({type:"user/fetchUser"}),t({type:"comments/loadCommentMap"}).then(()=>t({type:"comments/loadVoteConfig"}).then(()=>t({type:"comments/fetchVotes"}))),t({type:"user/fetchCsrf"}),t({type:"initApp",payload:(0,i.default)({},p.data,{initializing:!1})});break}break}}),t({type:"connectHelper"}),t({type:"fetchConfig"}),t({type:"fetchDownloadsConfig"}),t({type:"fetchFeedsConfig"}),t({type:"fetchWebsiteUpdateConfig"})}},reducers:{updateTryConnect(e){return e.status.tryConnect=!0,e},initApp(e,t){var a=t.payload;return a.connected&&(e.status.connected=a.connected),a.config&&(e.version=a.config),a.initializing&&(e.initializing=a.initializing),e},updateAppConfig(e,t){var a=t.payload;return e.config=a,e},updateDownloadsConfig(e,t){var a=t.payload;return e.downloads=a,e},updateFeedsConfig(e,t){var a=t.payload;return e.feeds=a,e},updateWebsiteUpdateConfig(e,t){var a=t.payload;return e.websiteUpdate=a,e}},effects:{connectHelper(e,t){return r.default.mark(function a(){var n;return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return(0,o.default)(e),n=t.put,(0,s.sendCommandToHelper)("connect",{model:"global",sign:"connect"}),a.next=5,n({type:"initApp",payload:{initializing:!0}});case 5:return a.next=7,n({type:"updateTryConnect"});case 7:case"end":return a.stop()}},a)})()},fetchConfig(e,t){return r.default.mark(function a(){var n,i,s,u;return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return(0,o.default)(e),n=t.put,i=t.call,a.next=4,i(fetch,"../static/json/config.json");case 4:if(s=a.sent,200!==s.status&&304!==s.status){a.next=11;break}return a.next=8,s.json();case 8:return u=a.sent,a.next=11,n({type:"updateAppConfig",payload:u});case 11:case"end":return a.stop()}},a)})()},fetchDownloadsConfig(e,t){return r.default.mark(function a(){var n,i,s,u;return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return(0,o.default)(e),n=t.put,i=t.call,a.next=4,i(fetch,"../static/json/downloads.json");case 4:if(s=a.sent,200!==s.status&&304!==s.status){a.next=11;break}return a.next=8,s.json();case 8:return u=a.sent,a.next=11,n({type:"updateDownloadsConfig",payload:u});case 11:case"end":return a.stop()}},a)})()},fetchFeedsConfig(e,t){return r.default.mark(function a(){var n,i,s,u;return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return(0,o.default)(e),n=t.put,i=t.call,a.next=4,i(fetch,"../static/json/feed.json");case 4:if(s=a.sent,200!==s.status&&304!==s.status){a.next=11;break}return a.next=8,s.json();case 8:return u=a.sent,a.next=11,n({type:"updateFeedsConfig",payload:u});case 11:case"end":return a.stop()}},a)})()},fetchWebsiteUpdateConfig(e,t){return r.default.mark(function a(){var n,i,s,u;return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return(0,o.default)(e),n=t.put,i=t.call,a.next=4,i(fetch,"../static/json/websiteUpdate.json");case 4:if(s=a.sent,200!==s.status&&304!==s.status){a.next=11;break}return a.next=8,s.json();case 8:return u=a.sent,a.next=11,n({type:"updateWebsiteUpdateConfig",payload:u});case 11:case"end":return a.stop()}},a)})()}}};t.default=u},KyW6:function(e,t,a){"use strict";var n=a("x4FP");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactDOMServer=void 0;var r=n(a("MgQf")),o=n(a("ALud")),i=n(a("H8ei"));a("/1p2");n(a("RFCh"));var s=n(a("cDcd")),u=n(a("faye")),p=n(a("9+qw")),d=a("snSC");window.g_plugins=d,d.init({validKeys:["patchRoutes","render","rootContainer","modifyRouteProps","onRouteChange","modifyInitialProps","initialProps","dva"]}),d.use(a("3JrO")),d.use(a("ERIh")),a("VVNZ");var l,c=function(){var e=(0,i.default)(r.default.mark(function e(){var t,n,i,l,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(window.g_isBrowser=!0,t={},!window.g_useSSR){e.next=6;break}t=window.g_initialData,e.next=18;break;case 6:if(n=location.pathname,i=(0,p.default)(a("i4x8").routes,n),!(i&&i.component&&i.component.getInitialProps)){e.next=18;break}if(l=d.apply("modifyInitialProps",{initialValue:{}}),!i.component.getInitialProps){e.next=16;break}return e.next=13,i.component.getInitialProps((0,o.default)({route:i,isServer:!1},l));case 13:e.t0=e.sent,e.next=17;break;case 16:e.t0={};case 17:t=e.t0;case 18:c=d.apply("rootContainer",{initialValue:s.default.createElement(a("i4x8").default,t)}),u.default[window.g_useSSR?"hydrate":"render"](c,document.getElementById("root"));case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f=d.compose("render",{initialValue:c}),m=[];Promise.all(m).then(()=>{f()}).catch(e=>{window.console&&window.console.error(e)}),t.ReactDOMServer=l;var y=null;t.default=y},"P+IA":function(e,t,a){"use strict";var n=a("x4FP");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("MgQf")),o=a("f23f"),i={pid:0,pname:"\u989c\u6587\u5b57",pstate:0,purl:"https://static.hdslb.com/images/base/emoji-tab-default.png",type:"text",emojis:["(\u2312\u25bd\u2312)","\uff08\uffe3\u25bd\uffe3\uff09","(=\u30fb\u03c9\u30fb=)","(\uff40\u30fb\u03c9\u30fb\xb4)","(\u301c\uffe3\u25b3\uffe3)\u301c","(\uff65\u2200\uff65)","(\xb0\u2200\xb0)\uff89","(\uffe33\uffe3)","\u256e(\uffe3\u25bd\uffe3)\u256d","( \xb4_\u309d\uff40)","\u2190_\u2190","\u2192_\u2192","(<_<)","(>_>)","(;\xac_\xac)",'("\u2594\u25a1\u2594)/',"(\uff9f\u0414\uff9f\u2261\uff9f\u0434\uff9f)!?","\u03a3(\uff9f\u0434\uff9f;)","\u03a3( \uffe3\u25a1\uffe3||)","(\xb4\uff1b\u03c9\uff1b`)","\uff08/T\u0414T)/","(^\u30fb\u03c9\u30fb^ )","(\uff61\uff65\u03c9\uff65\uff61)","(\u25cf\uffe3(\uff74)\uffe3\u25cf)","\u03b5=\u03b5=(\u30ce\u2267\u2207\u2266)\u30ce","(\xb4\uff65_\uff65`)","(-_-#)","\uff08\uffe3\u3078\uffe3\uff09","(\uffe3\u03b5(#\uffe3) \u03a3","\u30fd(`\u0414\xb4)\uff89","(\u256f\xb0\u53e3\xb0)\u256f(\u2534\u2014\u2534","\uff08#-_-)\u252f\u2501\u252f","_(:3\u300d\u2220)_","(\u7b11)","(\u6c57)","(\u6ce3)","(\u82e6\u7b11)"]},s={state:{optionJSON:[],emojiURLs:{},emojiMap:{}},subscriptions:{setup(e){var t=e.dispatch;e.history;window.addEventListener("message",function(e){var a=e.data,n=a.command,r=void 0===n?"":n,o=a.commend,i=void 0===o?"":o,s=a.data,u=void 0===s?{}:s,p=a.from,d=a.model;a.sign;if("helper"===p&&"emoji"===d)switch(r||i){case"returnFetch":t({type:"updateOptions",payload:u.data});break}}),t({type:"fetchOptions"})}},reducers:{updateOptions(e,t){t.type;var a=t.payload,n={},r=a.vip,o=a.free;return o.forEach(e=>{var t=e.pid,a=e.emojis,r=e.purl;n[t]=r,a.forEach(e=>{var t=e.name,a=e.url;a&&(n[t]=a)})}),r.forEach(e=>{var t=e.pid,a=e.emojis,r=e.purl;n[t]=r,a.forEach(e=>{var t=e.name,a=e.url;a&&(n[t]=a)})}),e.optionJSON=[i,...o,...r],e.emojiURLs=n,e}},effects:{fetchOptions(e,t){return r.default.mark(function a(){return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:e.type,e.payload,t.put,t.call,t.select,(0,o.fetchFromHelper)("json",{url:"https://api.bilibili.com/x/v2/reply/v2/emojis",model:"emoji"});case 3:case"end":return a.stop()}},a)})()}}};t.default=s},"R3y/":function(e,t,a){"use strict";var n=a("x4FP");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("MgQf")),o=n(a("UMs2")),i=a("f23f"),s={state:{config:null,status:{initializing:!1,error:null}},subscriptions:{setup(e){var t=e.dispatch;e.history;window.addEventListener("message",function(e){var t=e.data;t.command,t.data,t.from,t.model,t.sign}),t({type:"fetchAnnouncementConfig"})}},reducers:{updateTryConnect(e){return e.status.tryConnect=!0,e},initApp(e,t){var a=t.payload;return a.connected&&(e.status.connected=a.connected),a.config&&(e.version=a.config),a.initializing&&(e.initializing=a.initializing),e},updateAnnouncementConfig(e,t){var a=t.payload;return e.config=a,e}},effects:{connectHelper(e,t){return r.default.mark(function a(){var n;return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return(0,o.default)(e),n=t.put,(0,i.sendCommandToHelper)("connect",{model:"global",sign:"connect"}),a.next=5,n({type:"initApp",payload:{initializing:!0}});case 5:return a.next=7,n({type:"updateTryConnect"});case 7:case"end":return a.stop()}},a)})()},fetchAnnouncementConfig(e,t){return r.default.mark(function a(){var n,i,s,u;return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return(0,o.default)(e),n=t.put,i=t.call,a.next=4,i(fetch,"../static/json/announcement.json");case 4:if(s=a.sent,200!==s.status&&304!==s.status){a.next=11;break}return a.next=8,s.json();case 8:return u=a.sent,a.next=11,n({type:"updateAnnouncementConfig",payload:u});case 11:case"end":return a.stop()}},a)})()}}};t.default=s},RFCh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("rx06").default({basename:window.routerBase});window.g_history=n;var r=n;t.default=r},VVNZ:function(e,t,a){"use strict";var n=a("x4FP"),r=n(a("ALud")),o=n(a("MuoO")),i=n(a("cFq4")),s=window.g_plugins.mergeConfig("dva"),u=(0,o.default)((0,r.default)({history:window.g_history},s.config||{}));window.g_app=u,u.use((0,i.default)()),(s.plugins||[]).forEach(e=>{u.use(e)}),u.use(a("i5Zg").default()),u.model((0,r.default)({namespace:"announcements"},a("R3y/").default)),u.model((0,r.default)({namespace:"comments"},a("AabO").default)),u.model((0,r.default)({namespace:"emoji"},a("P+IA").default)),u.model((0,r.default)({namespace:"global"},a("F03t").default)),u.model((0,r.default)({namespace:"image"},a("5R+S").default)),u.model((0,r.default)({namespace:"user"},a("hlQx").default))},YLtl:function(e,t){e.exports=window._},aYsz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("cDcd");class r extends n.Component{render(){return window.g_app.router(()=>this.props.children),window.g_app.start()()}}var o=r;t.default=o},cDcd:function(e,t){e.exports=window.React},f23f:function(e,t,a){"use strict";var n=a("x4FP");Object.defineProperty(t,"__esModule",{value:!0}),t.cumulativeOffset=t.htmlDecode=t.getCookieFromHelper=t.fetchFromHelper=t.sendCommandToHelper=t.postMessage=void 0;var r=n(a("ALud")),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://bilibili-helper.github.io/";window.postMessage(e,t)};t.postMessage=o;var i=(e,t)=>{o({command:e,commend:e,data:t,from:"website"})};t.sendCommandToHelper=i;var s=(e,t)=>{if(t.type)throw"fetchOptions can not contain the param: type";i("fetch",(0,r.default)({},t,{type:e}))};t.fetchFromHelper=s;var u=e=>{i("cookie",e)};t.getCookieFromHelper=u;var p=(e,t)=>{var a=document.createElement("div");return a.innerHTML=t,0===a.childNodes.length?"":a.childNodes[0].nodeValue};t.htmlDecode=p;var d=e=>{var t=0,a=0;do{t+=e.offsetTop||0,a+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:a}};t.cumulativeOffset=d},faye:function(e,t){e.exports=window.ReactDOM},hlQx:function(e,t,a){"use strict";var n=a("x4FP");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("MgQf")),o=n(a("GBY4")),i=a("f23f"),s={state:{info:null,csrf:null},subscriptions:{setup(e){var t=e.dispatch;e.history;window.addEventListener("message",function(e){var a=e.data,n=a.command,r=void 0===n?"":n,o=a.commend,i=void 0===o?"":o,s=a.data,u=void 0===s?{}:s,p=a.from,d=a.model,l=a.sign;if("helper"===p&&"user"===d)switch(r||i){case"returnFetch":"REPONSE_OK"===u.code||0===u.code?t({type:"updateUserData",payload:u.data}):console.error(u);break;case"returnCookie":"getCsrf"===l&&t({type:"updateCsrf",payload:u});break}})}},reducers:{updateUserData(e,t){var a=t.payload;return e.info=a,e},updateCsrf(e,t){var a=t.payload;return e.csrf=a,e}},effects:{fetchCsrf(e,t){return r.default.mark(function a(){return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:e.type,e.payload,t.put,t.call,t.select,(0,i.getCookieFromHelper)({detail:{url:"http://interface.bilibili.com/",name:"bili_jct"},model:"user",sign:"getCsrf"});case 3:case"end":return a.stop()}},a)})()},fetchUser(e,t){return r.default.mark(function a(){var n;return r.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:e.type,e.payload,t.put,t.call,t.select,n=new o.default("https://api.live.bilibili.com/xlive/web-ucenter/user/get_user_info"),(0,i.fetchFromHelper)("json",{url:n.toString(),model:"user"});case 4:case"end":return a.stop()}},a)})()}}};t.default=s},i4x8:function(e,t,a){"use strict";var n=a("x4FP");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.routes=void 0;var r=n(a("cDcd")),o=(a("/dMH"),n(a("V+pM")),n(a("DIlU"))),i=n(a("RFCh")),s=n(a("VcJ9")),u=a("7DNP").routerRedux.ConnectedRouter,p=[{path:"/",component:(0,s.default)({component:()=>Promise.all([a.e(0),a.e(2)]).then(a.t.bind(null,"rB1f",7))}),exact:!0}];t.routes=p,window.g_routes=p;var d=a("snSC");d.applyForEach("patchRoutes",{initialValue:p});class l extends r.default.Component{constructor(e){function t(e,t){d.applyForEach("onRouteChange",{initialValue:{routes:p,location:e,action:t}})}super(e),this.unListen=(()=>{}),this.unListen=i.default.listen(t),t(i.default.location)}componentWillUnmount(){this.unListen()}render(){var e=this.props||{};return r.default.createElement(u,{history:i.default},(0,o.default)(p,e))}}t.default=l}});