(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{Amhr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Rect=void 0;var s=e("8BX1");class h{constructor(t){var i=t.app,e=t.color,s=void 0===e?16777215:e,h=t.alpha,r=void 0===h?1:h,a=t.length,o=t.thick,n=t.width,c=t.height,l=t.radius;this.color=s,this.alpha=r,this.width=n||a,this.height=c||o,this.radius=l,this.item=null,this.app=i,i&&this.init(i)}set length(t){this.width=t}get length(){return this.width}set thick(t){this.height=t}get thick(){return this.height}init(t){this.app=t;var i=this.width-2*this.radius,e=this.height-2*this.radius;this.item=new s.Container;var h=(new s.Graphics).beginFill(this.color,this.alpha).drawRect(this.radius,0,i,this.height);if(this.item.addChild(h),this.radius>0){var r=(new s.Graphics).beginFill(this.color,this.alpha).drawRect(0,this.radius,this.width,e);this.item.addChild(r);var a=(new s.Graphics).beginFill(this.color,this.alpha).drawCircle(this.radius,this.radius,this.radius);this.item.addChild(a);var o=(new s.Graphics).beginFill(this.color,this.alpha).drawCircle(this.width-this.radius,this.radius,this.radius);this.item.addChild(o);var n=(new s.Graphics).beginFill(this.color,this.alpha).drawCircle(this.radius,this.height-this.radius,this.radius);this.item.addChild(n);var c=(new s.Graphics).beginFill(this.color,this.alpha).drawCircle(this.width-this.radius,this.height-this.radius,this.radius);this.item.addChild(c)}return this}}i.Rect=h},FLqt:function(t,i,e){"use strict";var s=e("svvH");Object.defineProperty(i,"__esModule",{value:!0}),i.Block=void 0;var h=s(e("jUZP")),r=e("dZpX"),a=e("lLD3");class o{constructor(t){var i=t.app,e=t.color,s=void 0===e?16777215:e,r=t.width,o=t.height,n=t.radius,c=void 0===n?0:n,l=t.hp,d=void 0===l?1:l,u=t.position,p=void 0===u?new a.Vector2(0,0):u,m=(0,h.default)(t,["app","color","width","height","radius","hp","position"]);this.color=s,this.hp=d,this.width=r,this.height=o,this.radius=c,this.position=p,this.app=i,Object.assign(this,m),i&&this.init(i)}init(t){return this.app=t,this.rect=new r.Rect(this),this.item=this.rect.item,this.setPosition(this.position),this}setPosition(t,i){return void 0!==t&&void 0!==i?(this.item.x=t,this.item.y=i):t instanceof a.Vector2&&(this.item.x=t.x,this.item.y=t.y),this}}i.Block=o},Lcdb:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Vector2=void 0;class s{constructor(t,i){this.x=t||0,this.y=i||0}get isVector2(){return!0}get height(){return this.y}get width(){return this.x}set(t,i){"number"===typeof t&&"number"===typeof i?(this.x=t,this.y=i):t instanceof s&&(this.x=t.x,this.y=t.y)}setX(t){"number"===typeof t?this.x=t:t instanceof s&&(this.x=t.x)}setY(t){"number"===typeof t?this.y=t:t instanceof s&&(this.y=t.y)}clone(){return new s(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.addScalar(-t)}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}negateX(){return this.x=-this.x,this}negateY(){return this.y=-this.y,this}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalize(){return this.divideScalar(this.length()||1)}distanceToSquared(t){var i=this.x-t.x,e=this.y-t.y;return i*i+e*e}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}setLength(t){return this.normalize().multiplyScalar(t)}equals(t){return t.x===this.x&&t.y===this.y}rad(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t}angle(){return 180*this.rad()/Math.PI}flip(){return this.x=this.y+this.x,this.y=this.x-this.y,this.x=this.x-this.y,this}rotateAround(t,i){var e=Math.cos(i),s=Math.sin(i),h=this.x-t.x,r=this.y-t.y;return this.x=h*e-r*s+t.x,this.y=h*s+r*e+t.y,this}rotate(t){return this.rotateAround(this,t)}toArray(){return[this.x,this.y]}dot(t){return this.x*t.x+this.y*t.y}radWithVector(t){var i=this.length()*t.length(),e=this.dot(t.normalize());return(e/i>1||e/i<-1)&&(t=t.clone().negate(),e=this.dot(t)),Math.acos(e/i)}angleWithVector(t){return 180*this.radWithVector(t)/Math.PI}radWithLine(t){var i=this.radWithVector(t);return i>Math.PI/2?Math.PI-i:i}angleWithLine(t){return 180*this.radWithLine(t)/Math.PI}projectionWithLine(t){var i=this.radWithLine(t);i>Math.PI/2&&(i=Math.PI/2-this.radWithLine(t));var e=2*this.length()*Math.sin(i),s=t.normal().setLength(e),h=s.dot(this),r=t.clone();return r.sub(s.multiplyScalar(2*h)).setLength(this.length())}projectionWithNormal(t){var i=this.radWithLine(t),e=2*this.length()*Math.sin(i),s=t.setLength(e),h=s.dot(this),r=t.normal();return r.sub(s.multiplyScalar(2*h)).setLength(this.length())}normal(){return new s(this.y/this.x,-1).normalize()}}i.Vector2=s},RUDJ:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Baffle=void 0;var s=e("dZpX"),h=e("lLD3"),r=e("8BX1");class a{constructor(t){var i=t.color,e=void 0===i?16777215:i,s=t.alpha,r=void 0===s?1:s,a=t.length,o=void 0===a?100:a,n=t.width,c=void 0===n?100:n,l=t.thick,d=void 0===l?10:l,u=t.height,p=void 0===u?10:u,m=t.speed,y=void 0===m?1:m,g=t.position,v=void 0===g?new h.Vector2(0,0):g,w=t.acceleration,x=void 0===w?new h.Vector2(.001,.001):w,f=t.radius,b=void 0===f?0:f;this._radius=0,this.color=e,this.alpha=r,this.length=o||c,this.thick=d||p,this.speed=y,this.radius=b,this.position=v,this.acceleration=x,this.maxAcceleration=new h.Vector2(.07*o,.1*d),this.canMove=!0}get radius(){return this._radius}set radius(t){var i=Math.min(this.thick,this.length);this._radius=t<i/2?t:i/2}get width(){return this.length}set width(t){return this.length=t,this}get height(){return this.thick}set height(t){return this.thick=t,this}init(t){this.app=t;var i=new r.Container,e=new s.Rect(this).init(t);return i.addChild(e.item),i.x=this.position.x,i.y=this.position.y,this.item=i,this.bindKeyboard(),this}setX(t){return this.item.x=t,this.position.setX(t),this}setY(t){return this.item.y=t,this.position.setY(t),this}createBall(t){return t.position=new h.Vector2(this.position.x+this.width/2,this.position.y-t.radius),this.app.createBall(t)}bindKeyboard(){var t=this.app.bindKey(document,38),i=this.app.bindKey(document,40),e=this.app.bindKey(document,37),s=this.app.bindKey(document,39);this.app.addTicker(h=>{!t.down&&!i.down&&!e.down&&!s.down&&this.stopMove(),t.down&&this.moveUp(),i.down&&this.moveDown(),e.down&&this.moveLeft(),s.down&&this.moveRight(),(t.down||i.down||e.down||s.down)&&this.collisionCheckWithBox(this.app.width,this.app.height)})}moveUp(){return Object.is(this.acceleration.y,NaN)&&(this.acceleration.y=this.maxAcceleration.y),this.acceleration.y<this.maxAcceleration.y&&(this.acceleration.y+=(this.acceleration.y+.5)*this.speed),this.setY(this.item.y-this.acceleration.y)}moveDown(){return Object.is(this.acceleration.y,NaN)&&(this.acceleration.y=this.maxAcceleration.y),this.acceleration.y<this.maxAcceleration.y&&(this.acceleration.y+=(this.acceleration.y+.5)*this.speed),this.setY(this.item.y+this.acceleration.y)}moveLeft(){return Object.is(this.acceleration.x,NaN)&&(this.acceleration.x=this.maxAcceleration.x),this.acceleration.x<this.maxAcceleration.x&&(this.acceleration.x+=(this.acceleration.x+.5)*this.speed),this.setX(this.item.x-this.acceleration.x)}moveRight(){return Object.is(this.acceleration.x,NaN)&&(this.acceleration.x=this.maxAcceleration.x),this.acceleration.x<this.maxAcceleration.x&&(this.acceleration.x+=(this.acceleration.x+.5)*this.speed),this.setX(this.item.x+this.acceleration.x)}stopMove(){return this.acceleration.set(0,0),this}collisionCheckWithBox(t,i){return this.position.x<0?this.setX(0):this.position.x+this.width>t&&this.setX(t-this.width),this.position.y<0?this.setY(0):this.position.y+this.height>i&&this.setY(i-this.height),this}}i.Baffle=a},YAsm:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createApp=void 0;var s=e("lLD3"),h=(t,i)=>{var e=(new s.Game).create(t,i),h=e.createBaffle({color:14540253,position:new s.Vector2(100,i-50),length:100,radius:50});h.createBall({radius:10,acceleration:new s.Vector2(1,-1),speed:3});var r=2,a=5,o=10,n=10,c=(t-2*n-(a-1)*o)/a;return e.createMap({width:t,height:2*n+r*(c+o)-o,rows:r,columns:a,gap:o,padding:n,blockOption:{color:16777215,radius:3}}).fillAll(),e.addTicker(s=>{e.ballsMap.forEach(s=>{for(var r in s.move(),s.collisionCheckRoundedRect(h),e.blockMap.map)s.collisionCheckRoundedRect(e.blockMap.map[r]);s.collisionCheckWithMap(t,i)})}),e.app};i.createApp=h},awJ8:function(t,i,e){"use strict";var s=e("svvH");Object.defineProperty(i,"__esModule",{value:!0}),i.Game=void 0;var h=s(e("quD3")),r=s(e("jUZP")),a=e("dZpX"),o=e("Lcdb"),n=e("8BX1");class c{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{outputLevel:"debug"},i=t.outputLevel,e=void 0===i?"debug":i;this.app=null,this.width=0,this.height=0,this.outputLevel=e,this.ballsContainer=new n.Container,this.ballsMap=[],this.baffle=null,this.blockMap=null}create(t,i){this.width=t,this.height=i;var e=new n.Application({width:t,height:i,antialias:!0,transparent:!0});return this.app=e,this}addTicker(t){return this.app.ticker.add(t),this}createBall(t){var i=t.color,e=void 0===i?16777215:i,s=t.radius,n=void 0===s?10:s,c=t.speed,l=void 0===c?1:c,d=t.position,u=void 0===d?new o.Vector2(0,0):d,p=t.acceleration,m=void 0===p?new o.Vector2(0,0):p,y=(0,r.default)(t,["color","radius","speed","position","acceleration"]),g=new a.Ball((0,h.default)({color:e,speed:l,radius:n,position:u,acceleration:m.multiplyScalar(l)},y)).init(this);return this.ballsMap.push(g),this.ballsContainer.addChild(g.item),this.app.stage.addChild(this.ballsContainer),g}createBaffle(t){var i=t.color,e=t.length,s=t.thick,o=t.speed,n=t.position,c=t.radius,l=(0,r.default)(t,["color","length","thick","speed","position","radius"]);return this.baffle=new a.Baffle((0,h.default)({color:i,length:e,thick:s,speed:o,position:n,radius:c},l)).init(this),this.app.stage.addChild(this.baffle.item),this.baffle}createMap(t){return this.blockMap=new a.BlockMap(t).init(this),this.app.stage.addChild(this.blockMap.item),this.blockMap}bindKey(t,i){var e={down:!1,downHandle:()=>{},upHandle:()=>{}},s=function(t){t.preventDefault(),t.keyCode===i&&(e.down=!0,e.downHandle())},h=function(t){t.preventDefault(),t.keyCode===i&&(e.down=!1,e.upHandle())};return t.addEventListener("keydown",s,!1),t.addEventListener("keyup",h,!1),e}}i.Game=c},dZpX:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Ball",{enumerable:!0,get:function(){return s.Ball}}),Object.defineProperty(i,"Baffle",{enumerable:!0,get:function(){return h.Baffle}}),Object.defineProperty(i,"Rect",{enumerable:!0,get:function(){return r.Rect}}),Object.defineProperty(i,"Block",{enumerable:!0,get:function(){return a.Block}}),Object.defineProperty(i,"BlockMap",{enumerable:!0,get:function(){return o.BlockMap}});var s=e("fQG3"),h=e("RUDJ"),r=e("Amhr"),a=e("FLqt"),o=e("yDoK")},fQG3:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Ball=void 0;var s=e("lLD3"),h=e("8BX1");class r{constructor(t){var i=t.color,e=void 0===i?16777215:i,h=t.radius,r=void 0===h?10:h,a=t.speed,o=t.position,n=void 0===o?new s.Vector2(0,0):o,c=t.acceleration,l=void 0===c?new s.Vector2(a,a):c;this.topS=(t=>t.item.y-this.item.y),this.bottomS=(t=>this.item.y-t.item.y-t.height),this.leftS=(t=>t.item.x-this.item.x),this.rightS=(t=>this.item.x-t.item.x-t.width),this.color=e,this.radius=r,this.speed=a,this.position=n,this.acceleration=l}init(t){this.app=t;var i=new h.Graphics;return i.beginFill(this.color),i.drawCircle(0,0,this.radius),i.endFill(),i.x=this.position.x,i.y=this.position.y,this.item=i,this}move(){var t=new s.Vector2(this.item.x,this.item.y),i=this.acceleration.clone().add(t);return this.setPosition(i.x,i.y)}setPosition(t,i){return this.position.set(t,i),"number"===typeof t&&"number"===typeof i?(this.item.x=t,this.item.y=i):t instanceof s.Vector2&&(this.item.x=t.x,this.item.y=t.y),this}collisionCheckWithMap(t,i){return this.item.x<this.radius?(this.item.x=this.radius,this.acceleration.negateX()):this.item.x+this.radius>t&&(this.item.x=t-this.radius,this.acceleration.negateX()),this.item.y<this.radius?(this.item.y=this.radius,this.acceleration.negateY()):this.item.y+this.radius>i&&(this.item.y=i-this.radius,this.acceleration.negateY()),this}collisionCheckRoundedRect(t){var i=this.topS(t);if(!(i>this.radius)){var e=this.bottomS(t);if(!(e>this.radius)){var h=this.leftS(t);if(!(h>this.radius)){var r=this.rightS(t);if(!(r>this.radius)){var a=!1,o=this.item.x>=t.item.x+t.radius&&this.item.x<=t.item.x+t.width-t.radius;o&&(Math.abs(i)<Math.abs(e)?i<this.radius&&(this.acceleration.negateY(),this.item.y-=this.radius-i,a=!0):e<this.radius&&(this.acceleration.negateY(),this.item.y+=this.radius-e,a=!0));var n=this.item.y>=t.item.y+t.radius&&this.item.y<=t.item.y+t.height-t.radius;return n&&(Math.abs(h)<Math.abs(r)?h<this.radius&&(this.acceleration.negateX(),this.item.x-=this.radius-h,a=!0):r<this.radius&&(this.acceleration.negateX(),this.item.x+=this.radius-r,a=!0)),a?this:this.collisionCheckAtCornerCircle({target:t,point:t.position.clone().addScalar(t.radius)})?this:this.collisionCheckAtCornerCircle({target:t,point:new s.Vector2(t.position.x+t.width-t.radius,t.position.y+t.radius)})?this:this.collisionCheckAtCornerCircle({target:t,point:new s.Vector2(t.item.x+t.radius,t.item.y+t.height-t.radius)})?this:(this.collisionCheckAtCornerCircle({target:t,point:new s.Vector2(t.item.x+t.width-t.radius,t.item.y+t.height-t.radius)}),this)}}}}}collisionCheckAtCornerCircle(t){var i=t.target,e=t.point,s=this.position.distanceTo(e);if(s<this.radius+i.radius){var h=e.sub(this.position),r=h.angle();window.angle=r;var a=h.length(),o=h.clone().setLength(Math.abs(this.radius+i.radius-a));this.position.sub(o),this.setPosition(this.position);var n=this.acceleration.projectionWithNormal(h);return this.acceleration.copy(n),!0}}}i.Ball=r},lLD3:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Vector2",{enumerable:!0,get:function(){return s.Vector2}}),Object.defineProperty(i,"Game",{enumerable:!0,get:function(){return h.Game}});var s=e("Lcdb"),h=e("awJ8")},yDoK:function(t,i,e){"use strict";var s=e("svvH");Object.defineProperty(i,"__esModule",{value:!0}),i.BlockMap=void 0;var h=s(e("quD3")),r=s(e("jUZP")),a=e("8BX1"),o=e("lLD3"),n=e("dZpX"),c=(t,i,e)=>_.mergeWith(t,i,e);class l{constructor(t){var i=t.app,e=t.width,s=t.height,h=t.rows,r=t.columns,o=t.gap,n=void 0===o?0:o,l=t.padding,d=void 0===l?0:l,u=t.mapData,p=t.blockOption,m=void 0===p?{}:p;this.width=e,this.height=s,this.rows=h,this.columns=r,this.maxNumber=this.rows*this.columns,this.padding=d,this.gap=n,this.mapData=u,this.map={},this.app=i,this.item=new a.Container,this.calculate(),this.blockOption=c(m,{width:this.columnWidth,height:this.rowHeight}),i&&this.init(i)}setGap(t){var i=(this.width-2*this.padding)/(this.columns-1),e=(this.height-2*this.padding)/(this.rows-1);this.gap=i>=t&&e>=t?t:Math.min(i,e)}init(t){return this.app=t,this}calculate(){return this.columnWidth=(this.width-2*this.padding-(this.columns-1)*this.gap)/this.columns,this.rowHeight=(this.height-2*this.padding-(this.rows-1)*this.gap)/this.rows,this}createBlock(t){var i,e=t.index,s=t.row,a=t.column,l=t.width,d=t.height,u=(0,r.default)(t,["index","row","column","width","height"]);if(l>this.columnWidth&&console.warn("block's width is larger than column width"),d>this.rowHeight&&console.warn("block's height is larger than row height"),void 0!==e){if(e>this.maxNumber)return console.error(`The index ${e} is bigger than ${this.maxNumber}`),this;i=this.getPositionByCoordinate(Math.ceil(e/this.columns)-1,e%this.columns-1)}else void 0!==s&&void 0!==a&&(i=this.getPositionByCoordinate(s,a));var p=new o.Vector2((this.columnWidth-l)/2,(this.rowHeight-d)/2),m=i.add(p),y=c(this.blockOption,(0,h.default)({app:this.app,row:s,column:a,width:l,height:d,position:m},u)),g=new n.Block(y);return this.addBlock2Map(g,s,a),this}addBlock2Map(t,i,e){this.map[`${i}:${e}`]&&(this.removeBlock(i,e),console.warn(`the coordinate at ${i}:${e} is not empty!`)),this.map[`${i}:${e}`]=t,this.item.addChild(t.item)}removeBlock(t,i){this.map[`${t}:${i}`]&&this.item.removeChild(this.map[`${t}:${i}`].item)}getPositionByCoordinate(t,i){return new o.Vector2(this.padding+i*(this.gap+this.columnWidth),this.padding+t*(this.gap+this.rowHeight))}fillAll(){for(var t=0;t<this.columns;++t)for(var i=0;i<this.rows;++i)this.createBlock({row:i,column:t})}}i.BlockMap=l}}]);